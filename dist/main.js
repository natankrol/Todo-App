(()=>{"use strict";const e=document.querySelector(".right-side"),t=document.querySelector(".left-side");(()=>{const e=document.querySelector(".left-side"),t=document.querySelector(".right-side"),i=document.createElement("button");i.classList.add("all-btn"),i.innerHTML="All",e.appendChild(i);const n=document.createElement("button");n.innerHTML="<p>New Task</p>",n.classList.add("new-todo-btn"),t.append(n)})();const i=document.querySelector(".new-todo-btn");let n=[];document.createElement("ul").classList.add("all-item-list");const l=document.createElement("div");l.classList.add("todo-form-container","todo-form-container-hidden"),e.appendChild(l),l.innerHTML='<form class="todo-form"><button type="button" class="close-form-btn">X</button><label for="title">Title:</label><input type="text" id="title" required><label for="description">Description:</label><input type="text" id="description" required><label for="dueDate">Due Date:</label><input type="date" id="duedate" required></label><label for="priority">Priority:</label><select id="priority" class="priority-select"><option id="normal" value="Normal Priority">Normal</option><option id ="high" value="High Priority">High Priority</option></select><input type="submit" class="submit-btn"></form>',i.addEventListener("click",(function(){l.classList.remove("todo-form-container-hidden");let e=document.querySelector(".todo-form");e.addEventListener("submit",(function(t){let l=(o=e.querySelector("#title").value,d=e.querySelector("#description").value,s=e.querySelector("#duedate").value,c=e.querySelector("#priority").value,{title:o,description:d,dueDate:s,priority:c});var o,d,s,c;n.push(l),t.preventDefault(),t.stopImmediatePropagation(),e.reset(),n.forEach(((e,t)=>{e.id=t+1})),r.replaceChildren();let u=document.createElement("ul");u.classList.add("all-btn-priority-list"),r.appendChild(u),i.classList.remove("hidden-btn"),a(n,u)})),l.querySelector(".close-form-btn").addEventListener("click",(function(){l.classList.add("todo-form-container-hidden")}))}));let r=document.createElement("div");e.appendChild(r),r.classList.add("main-section");let o=document.createElement("button");o.classList.add("normal-priority-button"),o.innerHTML="Normal Priority",t.appendChild(o),o.addEventListener("click",s);let d=document.createElement("button");function a(e,t){e.forEach((e=>{let i=document.createElement("li");i.classList.add("list-item"),i.setAttribute("id",`${e.id}`),i.innerHTML=`<div class='task-info'><h1 class="task-title">${e.title}</h1><p class="task-description">${e.description}</p><p class ="due-date">${e.dueDate}</p><p class="task-priority">${e.priority}</p></div><div class='task-buttons'><button class='done-btn'>Done</button><button class='delete-btn'>Delete</button></div>`,t.appendChild(i)}))}function s(){let e=n.filter((function(e){if("Normal Priority"===e.priority)return e}));r.replaceChildren();let t=document.createElement("ul");t.classList.add("normal-priority-list"),r.appendChild(t),i.classList.add("hidden-btn"),a(e,t)}function c(){let e=n.filter((function(e){if("High Priority"===e.priority)return e}));r.replaceChildren();let t=document.createElement("ul");t.classList.add("high-priority-list"),r.appendChild(t),i.classList.add("hidden-btn"),a(e,t)}d.classList.add("high-priority-button"),d.innerHTML="High Priority",t.appendChild(d),d.addEventListener("click",c),document.querySelector(".all-btn").addEventListener("click",(function(){r.replaceChildren();let e=document.createElement("ul");e.classList.add("all-btn-priority-list"),r.appendChild(e),i.classList.remove("hidden-btn"),a(n,e)})),document.addEventListener("click",(function(e){if(e.target&&"done-btn"==e.target.classList){let t=e.target.parentNode.parentNode;console.log(e.target.parentNode.parentNode.parentNode.classList.value);for(let e=n.length-1;e>=0;--e)n[e].id==t.id&&n.splice(e,1);let l=e.target.parentNode.parentNode.parentNode.classList.value;"normal-priority-list"===l?(s(),console.log(n)):"high-priority-list"===l?c():"all-btn-priority-list"===l&&function(){r.replaceChildren();let e=document.createElement("ul");e.classList.add("all-btn-priority-list"),r.appendChild(e),i.classList.remove("hidden-btn"),a(n,e)}()}})),document.addEventListener("click",(function(e){if(e.target&&"delete-btn"==e.target.classList){let t=e.target.parentNode.parentNode;for(let e=n.length-1;e>=0;--e)n[e].id==t.id&&n.splice(e,1);mainSectionList.innerHTML="",a(n)}}))})();