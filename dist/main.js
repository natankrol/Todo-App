(()=>{"use strict";const t=document.querySelector(".right-side"),e=document.querySelector(".left-side");(()=>{const t=document.querySelector(".left-side"),e=document.querySelector(".right-side"),i=document.createElement("button");i.classList.add("all-btn"),i.innerHTML="All",t.appendChild(i);const n=document.createElement("button");n.innerHTML="<p>New Task</p>",n.classList.add("new-todo-btn"),e.append(n)})();const i=document.querySelector(".new-todo-btn");let n=[],l=document.createElement("ul");l.classList.add("all-item-list");const r=document.createElement("div");r.classList.add("todo-form-container","todo-form-container-hidden"),t.appendChild(r),r.innerHTML='<form class="todo-form"><button type="button" class="close-form-btn">X</button><label for="title">Title:</label><input type="text" id="title" required><label for="description">Description:</label><input type="text" id="description" required><label for="dueDate">Due Date:</label><input type="date" id="duedate" required></label><label for="priority">Priority:</label><select id="priority" class="priority-select"><option id="normal" value="Normal Priority">Normal</option><option id ="high" value="High Priority">High Priority</option></select><input type="submit" class="submit-btn"></form>',i.addEventListener("click",(function(){r.classList.remove("todo-form-container-hidden");let t=document.querySelector(".todo-form");t.addEventListener("submit",(function(e){let i=(r=t.querySelector("#title").value,o=t.querySelector("#description").value,a=t.querySelector("#duedate").value,s=t.querySelector("#priority").value,{title:r,description:o,dueDate:a,priority:s});var r,o,a,s;n.push(i),e.preventDefault(),e.stopImmediatePropagation(),t.reset(),n.forEach(((t,e)=>{t.id=e+1})),d.firstChild===l?d.replaceChildren(l):d.appendChild(l),function(){let t=n[n.length-1],e=document.createElement("li");e.classList.add("list-item"),e.setAttribute("id",`${t.id}`),e.innerHTML=`<div class='task-info'><h1 class="task-title">${t.title}</h1><p class="task-description">${t.description}</p><p class ="due-date">${t.dueDate}</p><p class="task-priority">${t.priority}</p></div><div class='task-buttons'><button class='done-btn'>Done</button><button class='delete-btn'>Delete</button></div>`,l.appendChild(e)}()})),r.querySelector(".close-form-btn").addEventListener("click",(function(){r.classList.add("todo-form-container-hidden")}))}));let d=document.createElement("div");t.appendChild(d),d.classList.add("main-section");let o=document.createElement("button");o.classList.add("normal-priority-button"),o.innerHTML="Normal Priority",e.appendChild(o),o.addEventListener("click",(function(){let t=n.filter((function(t){if("Normal Priority"===t.priority)return t}));d.replaceChildren();let e=document.createElement("ul");e.classList.add("normal-priority-list"),d.appendChild(e),i.classList.add("hidden-btn"),s(t,e)}));let a=document.createElement("button");function s(t,e){t.forEach((t=>{let i=document.createElement("li");i.classList.add("list-item"),i.setAttribute("id",`${t.id}`),i.innerHTML=`<div class='task-info'><h1 class="task-title">${t.title}</h1><p class="task-description">${t.description}</p><p class ="due-date">${t.dueDate}</p><p class="task-priority">${t.priority}</p></div><div class='task-buttons'><button class='done-btn'>Done</button><button class='delete-btn'>Delete</button></div>`,e.appendChild(i)}))}a.classList.add("high-priority-button"),a.innerHTML="High Priority",e.appendChild(a),a.addEventListener("click",(function(){let t=n.filter((function(t){if("High Priority"===t.priority)return t}));d.replaceChildren();let e=document.createElement("ul");e.classList.add("high-priority-list"),d.appendChild(e),i.classList.add("hidden-btn"),s(t,e)})),document.querySelector(".all-btn").addEventListener("click",(function(){d.replaceChildren(),d.appendChild(l),i.classList.remove("hidden-list")})),document.addEventListener("click",(function(t){if(t.target&&"done-btn"==t.target.classList){let e=t.target.parentNode.parentNode;console.log(t.target.parentNode.parentNode.parentNode);for(let t=n.length-1;t>=0;--t)n[t].id==e.id&&n.splice(t,1)}})),document.addEventListener("click",(function(t){if(t.target&&"delete-btn"==t.target.classList){let e=t.target.parentNode.parentNode;for(let t=n.length-1;t>=0;--t)n[t].id==e.id&&n.splice(t,1);mainSectionList.innerHTML="",s(n)}}))})();